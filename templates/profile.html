{% extends 'base.html' %}
{% load static %}

{% block extracss %}{% endblock %}

{% block content %}
    <div class="content">
        <form class="login" autocomplete="off" style="margin-top: -35px" method="post"
              onsubmit="return animate_btn()"> {% csrf_token %}
          <div class="segment">
          </div>
          <label>
            <input disabled id="icarnet" required type="text" name="carnet"
                   value="{{ profile.carnet }}"/>
          </label>
          <label>
            <input id="inombre" maxlength="100" required type="text" name="nombre"
                   value="{{ profile.nombre }}"/>
          </label>
          <label>
            <input id="itelefono" maxlength="11" required type="number" name="telefono"
                   value="{{ profile.telefono }}"/>
          </label>
          <button class="red" type="submit">
              <i id="ibtn_submit" class="icon fa fa-save"></i> Guardar
          </button>
            <br>
            <button onclick="confirm_delete('{{ profile.pk }}')" class="red" type="button">
              <i id="ibtn_submit" class="icon fa fa-eraser"></i> Eliminar Perfil
            </button>
        </form>
    </div>
{% endblock %}

{% block extrajs %}
    <script>
        function animate_btn(){
            dget('ibtn_submit').className = 'icon fa fa-spinner fa-spin';
            return true;
        }
        function confirm_delete(pk){
            let proceed = confirm("Confirma eliminar su Perfil? NO SE PUEDE DESHACER");
            if (proceed){
                window.location = '/del_profile/' + pk;
            }
        }
    </script>
{% endblock %}
